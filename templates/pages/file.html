<!--

// First line must be empty and will not be displayed.
// Line index is used as line number.
type Context struct {
    Package   string
    Version   string
    Path      []string
    PathLinks []string
    Lines     []string
}

-->

{{- define "title" -}}
    {{- .Package -}}
{{- end -}}

{{- define "style" -}}
    <style></style>
{{- end -}}

{{- define "body" -}}
    <div class="info">
        <a href="/package/{{- .Package -}}">{{- .Package -}}</a>
        @
        <a href="/package/{{- .Package -}}/{{- .Version -}}">{{- .Version -}}</a>
        -&nbsp;

        {{- $links := .PathLinks -}}
        {{- range $i, $part := .Path -}}
            <!-- Only make part clickable if a link is provided. -->
            {{- $link := (index $links $i) -}}
            {{- if ne $link "" -}}
                {{- if ne $i 0 -}}/{{- end -}}<a href="{{- $link -}}">{{- $part -}}</a>
            {{- else -}}
                {{- if ne $i 0 -}}/{{- end -}}{{- $part -}}
            {{- end -}}
        {{- end -}}
    </div>
    <div class="content">
        {{- range $i, $line := .Lines -}}
            {{- if ne $i 0 -}}
                <div class="line">
                    <div class="decoration">{{- $i -}}</div>
                    <div class="data">{{- $line -}}</div>
                    <div class="target" id="L{{- $i -}}"></div>
                    <a class="link" href="#L{{- $i -}}"></a>
                </div>
            {{- end -}}
        {{- end -}}
    </div>
{{- end -}}
