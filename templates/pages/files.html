{{define "title"}}
    {{.Package}}@{{.Version}}
{{end}}

{{define "style"}}
    <style>
        .files {
            font-weight: 500;
            margin: 4.5rem 0;
            border-radius: 3px;
            background-color: #ececec;
        }

        .files .name {
            border-radius: 3px;
            padding: 1rem 1.5rem;
            transition: background-color 0.1s ease;
        }

        .files .name:hover {
            background-color: #ddd;
        }

        .files a.name {
            display: block;
        }

        .files summary.name {
            user-select: none;
            -moz-user-select: -moz-none;
        }
    </style>
{{end}}

{{define "file"}}
    {{range $name, $info := .}}
        {{if eq (len $info.Children) 0}}
            <a class="name" href="./{{$info.Path}}">
                <span style="padding: 0 {{$info.Depth}}em;"></span>
                {{$name}}
            </a>
        {{else}}
            <details class="dir">
                <summary class="name">
                    <span style="padding: 0 {{$info.Depth}}em;"></span>
                    {{$name}}
                </summary>
                {{template "file" $info.Children}}
            </details>
        {{end}}
    {{end}}
{{end}}

{{define "body"}}
    <h1 class="title">
        <a class="package" href="/package/{{.Package}}">{{.Package}}</a>
        {{.Version}}
    </h1>
    <div class="files">
        {{template "file" .Files}}
    </div>
{{end}}
