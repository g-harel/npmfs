{{- define "title" -}}
    home
{{- end -}}

{{- define "description" -}}
    JavaScript Package Inspector
{{- end -}}

{{- define "style" -}}
    <style>
        .wrapper {
            margin: 0 auto;
            max-width: 600px;
        }

        .wrapper h3 {
            margin-top: 0;
        }

        .wrapper ul li {
            line-height: 2;
        }

        .wrapper code {
            background-color: #eee;
            border-radius: 3px;
            font-style: italic;
        }

        .wrapper pre {
            background-color: #f6f6f6;
            border-radius: 3px;
            border: 1px solid #d7d7d7;
            padding: 1rem;
            white-space: pre-line;
            word-break: break-word;
        }

        .wrapper pre .red {
            color: #b31d28;
            background-color: #ffeef0;
        }

        .wrapper pre .green {
            color: #22863a;
            background-color: #f0fff4;
        }

        .wrapper hr {
            border: 0;
            border-top: 1px solid #eee;
        }

        .wrapper h2, .wrapper hr {
            margin: 2rem 0;
        }

        .wrapper details summary {
            cursor: pointer;
            padding: 0.25rem 0 0;
        }

        .wrapper details[open] summary {
            margin-bottom: 0.25rem;
        }

        .wrapper details a {
            display: inline-block;
            margin: 0.25rem;
            padding: 0.25rem 0 0 1rem;
            text-decoration: underline;
        }

        .wrapper details + hr {
            margin-top: 1.5rem;
        }
    </style>
{{- end -}}

{{- define "body" -}}
    <div class="wrapper">

        <h3><i>JavaScript Package Inspector</i></h3>
        <ul class="features">
            <li>
                <b>Package Viewer</b>
                &mdash;
                <a href="/package/express/4.17.1/">Browse package files at any version.</a>
            </li>
            <li>
                <b>Package Diff</b>
                &mdash;
                <a href="/compare/express/4.17.0/4.17.1/">Compare packages across versions.</a>
            </li>
            <li>
                <b>Deep Links</b>
                &mdash;
                <a href="/package/express/4.17.1/Readme.md#L16">Link to specific lines in files and diffs.</a>
            </li>
            <li>
                <b>Download Contents</b>
                &mdash;
                <a href="/download/express/4.17.1/index.js">Download any directory or file.</a>
            </li>
        </ul>

        <h2>Motivations</h2>
        <p>Published packages don't always include a link to their source on GitHub.</p>
        <p>The linked repository is not necessarily representative of published package.</p>

        <h2>Usage</h2>
        <p>Package root provides links to all available versions, and highlights the one tagged as <code>latest</code>.</p>
        <pre>
            https://npmfs.com/&lt;name&gt;
            https://npmfs.com/package/&lt;name&gt;
        </pre>
        <p><i>When viewing a package on npm, it is conveniently accessible with a one-char edit to the page url.</i></p>
        <pre>
            <span class="red">&nbsp;https://www.npm<i>j</i>s.com/package/&lt;name&gt;</span>
            <span class="green">&nbsp;https://www.npm<i>f</i>s.com/package/&lt;name&gt;</span>
        </pre>
        <details>
            <summary>Examples</summary>
            <a href="https://npmfs.com/lodash">https://npmfs.com/lodash</a>
            <br>
            <a href="https://npmfs.com/package/lodash">https://npmfs.com/package/lodash</a>
            <br>
            <a href="https://npmfs.com/request">https://npmfs.com/request</a>
            <br>
            <a href="https://npmfs.com/package/request">https://npmfs.com/package/request</a>
        </details>
        <hr>

        <p>Specific package versions can be accessed directly.</p>
        <pre>
            https://npmfs.com/package/&lt;name&gt;/&lt;version&gt;
        </pre>
        <details>
            <summary>Examples</summary>
            <a href="https://npmfs.com/package/chalk/2.4.2">https://npmfs.com/package/chalk/2.4.2</a>
            <br>
            <a href="https://npmfs.com/package/chalk/1.0.0">https://npmfs.com/package/chalk/1.0.0</a>
            <br>
            <a href="https://npmfs.com/package/commander/2.20.0">https://npmfs.com/package/commander/2.20.0</a>
            <br>
            <a href="https://npmfs.com/package/commander/1.0.0">https://npmfs.com/package/commander/1.0.0</a>
        </details>
        <hr>

        <p>Directories and files inside the package are viewed by appending the path.</p>
        <pre>
            https://npmfs.com/package/&lt;name&gt;/&lt;version&gt;/&lt;path&gt;
            https://npmfs.com/package/&lt;name&gt;/&lt;version&gt;/example/
            https://npmfs.com/package/&lt;name&gt;/&lt;version&gt;/example/index.js
        </pre>
        <details>
            <summary>Examples</summary>
            <a href="https://npmfs.com/package/async/3.0.1/internal/">https://npmfs.com/package/async/3.0.1/internal/</a>
            <br>
            <a href="https://npmfs.com/package/async/3.0.1/internal/once.js">https://npmfs.com/package/async/3.0.1/internal/once.js</a>
            <br>
            <a href="https://npmfs.com/package/react/16.8.6/umd/">https://npmfs.com/package/react/16.8.6/umd/</a>
            <br>
            <a href="https://npmfs.com/package/react/16.8.6/package.json">https://npmfs.com/package/react/16.8.6/package.json</a>
        </details>
        <hr>

        <p>Package versions are compared (<code>version-0 .. version-1</code>) by navigating to the root directory of <code>version-0</code>, clicking on the <code>diff</code> link in the top right, and selecting <code>version-1</code> in the version list.</p>
        <pre>
            https://npmfs.com/compare/&lt;name&gt;/&lt;version-0&gt;/&lt;version-1&gt;
        </pre>
        <p>In this compare view, line numbers are a shortcut to their respective file's source.</p>
        <details>
            <summary>Examples</summary>
            <a href="https://npmfs.com/compare/debug/4.1.0/4.1.1">https://npmfs.com/compare/debug/4.1.0/4.1.1</a>
            <br>
            <a href="https://npmfs.com/compare/debug/3.0.0/4.0.0">https://npmfs.com/compare/debug/3.0.0/4.0.0</a>
            <br>
            <a href="https://npmfs.com/compare/underscore/1.9.0/1.9.1">https://npmfs.com/compare/underscore/1.9.0/1.9.1</a>
            <br>
            <a href="https://npmfs.com/compare/underscore/1.6.0/1.7.0">https://npmfs.com/compare/underscore/1.6.0/1.7.0</a>
        </details>
        <hr>

        <p>Deep links are found on the right side of lines in both the file and diff views. These links will add a hash to the url which scrolls the browser to the selected line, and highlights it.</p>
        <pre>
            https://npmfs.com/package/&lt;name&gt;/&lt;version&gt;/index.js#&lt;line&gt;
            https://npmfs.com/compare/&lt;name&gt;/&lt;version-0&gt;/&lt;version-1&gt;#&lt;line&gt;
        </pre>
        <details>
            <summary>Examples</summary>
            <a href="https://npmfs.com/package/bluebird/3.5.5/js/release/race.js#L32">https://npmfs.com/package/bluebird/3.5.5/js/release/race.js#L32</a>
            <br>
            <a href="https://npmfs.com/compare/bluebird/3.5.4/3.5.5#D0L35">https://npmfs.com/compare/bluebird/3.5.4/3.5.5#D0L35</a>
            <br>
            <a href="https://npmfs.com/package/moment/2.24.0/locale/ca.js#L81">https://npmfs.com/package/moment/2.24.0/locale/ca.js#L81</a>
            <br>
            <a href="https://npmfs.com/compare/moment/2.23.0/2.24.0#D19L0">https://npmfs.com/compare/moment/2.23.0/2.24.0#D19L0</a>
        </details>
        <hr>

        <p>The sticky header sections often contain useful links to navigate between pages.</p>

    </div>
{{- end -}}
